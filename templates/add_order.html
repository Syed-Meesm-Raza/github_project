<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Add New Order</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- SVG Favicon (for modern browsers) -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
  <path d='M20,80 L20,40 Q20,30 30,30 L70,30 Q80,30 80,40 L80,80 L75,90 L25,90 Z' fill='%230891b2'/>
  <rect x='45' y='10' width='10' height='20' fill='%230891b2'/>
  <circle cx='35' cy='60' r='4' fill='%23ffffff'/>
  <circle cx='65' cy='50' r='3' fill='%23ffffff'/>
  <circle cx='50' cy='70' r='3.5' fill='%23ffffff'/>
  <line x1='35' y1='60' x2='50' y2='70' stroke='%23ffffff' stroke-width='1.5'/>
  <line x1='65' y1='50' x2='50' y2='70' stroke='%23ffffff' stroke-width='1.5'/>
</svg>" type="image/svg+xml" />

  <!-- Custom Styling (match your client dashboard) -->
  <style>
    :root {
      --primary: #0d6efd;
      --secondary: #198754;
      --danger: #dc3545;
      --warning: #ffc107;
      --light: #f8f9fa;
    }
    body {
      background-color: #f9fbfd;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .navbar-brand {
      font-weight: 700;
      color: var(--primary) !important;
    }
    .header-section {
      background: linear-gradient(135deg, #e0f7fa 0%, #f0f9ff 100%);
      padding: 2rem 0;
      border-bottom: 1px solid #dfe9f3;
    }
    .client-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: #e0f7fa;
      color: #0d6efd;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 1.1rem;
      border: 2px solid #cce7ff;
    }
    .form-label {
      font-weight: 500;
    }
    .card {
      border: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      border-radius: 10px;
    }
  </style>
</head>
<body class="d-flex flex-column min-vh-100">

  <!-- Navbar (identical to your dashboards) -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm border-bottom">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center text-decoration-none" href="/">
        <svg width="36" height="36" viewBox="0 0 100 100" style="margin-right: 10px;">
          <path d="M20,80 L20,40 Q20,30 30,30 L70,30 Q80,30 80,40 L80,80 L75,90 L25,90 Z" 
                fill="#0d6efd" stroke="#0d6efd" stroke-width="2"/>
          <rect x="45" y="10" width="10" height="20" fill="#0d6efd" stroke="#0d6efd" stroke-width="2"/>
          <circle cx="35" cy="60" r="4" fill="#ffffff"/>
          <circle cx="65" cy="50" r="3" fill="#ffffff"/>
          <circle cx="50" cy="70" r="3.5" fill="#ffffff"/>
          <line x1="35" y1="60" x2="50" y2="70" stroke="#ffffff" stroke-width="1.5"/>
          <line x1="65" y1="50" x2="50" y2="70" stroke="#ffffff" stroke-width="1.5"/>
        </svg>
        <span class="fw-bold" style="color: #0d6efd; font-size: 1.4rem;">ChemCorp</span>
      </a>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="flex-grow-1">
    <!-- Header -->
    <section class="header-section">
      <div class="container">
        <h2>üìù Add New Order</h2>
      </div>
    </section>

    <!-- Client Preview -->
    <div class="container mt-4">
      <div class="card p-3 mb-4">
        <h5 class="mb-3">For Client:</h5>
        <div class="d-flex align-items-center">
          <div class="client-avatar me-3">
            {% if client.avatar %}
              <img src="{{ client.avatar.url }}" alt="{{ client.name }}" class="img-fluid rounded-circle" style="width:50px; height:50px; object-fit:cover;">
            {% else %}
              {{ client.get_initials }}
            {% endif %}
          </div>
          <div>
            <h5 class="mb-0">{{ client.name }}</h5>
            <small class="text-muted">Client ID: CL-{{ client.id }}</small>
          </div>
        </div>
      </div>

      <!-- Order Form -->
      <div class="card p-4">
        <form action="{% url 'add_order_for_client' client.id %}" method="post">
          {% csrf_token %}
          <div class="row">
            <!-- Left Column -->
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Fabric Type</label>
                <input type="text" name="fabric_type" class="form-control" required>
              </div>
              <div class="mb-3">
                <label class="form-label">Quantity</label>
                <input type="number" name="quantity" class="form-control" min="1" required>
              </div>
              <div class="mb-3">
                <label class="form-label">Due Date</label>
                <input type="date" name="due_date" class="form-control" required>
              </div>
            </div>

            <!-- Right Column -->
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Payment ($)</label>
                <input type="number" name="payment" class="form-control" step="0.01" min="0" required>
              </div>
              <div class="mb-3">
                <label class="form-label">Status</label>
                <select name="status" class="form-select">
                  <option value="sample_preparing">Sample Preparing</option>
                  <option value="production_starts">Production Starts</option>
                  <option value="quality_checking">Quality Checking</option>
                  <option value="ready_for_shipment">Ready for Shipment</option>
                  <option value="shipped">Shipped</option>
                  <option value="completed">Completed</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Buttons -->
          <div class="d-flex gap-2 mt-4">
            <button type="submit" class="btn btn-primary">Create Order</button>
            <a href="{% url 'order_dashboard' %}" class="btn btn-secondary">Cancel</a>
          </div>
        </form>
      </div>
    </div>
  </main>


  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>